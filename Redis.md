
# 全ての項目に共通の操作

## which redis-server

Confirm Redis server location.

## redis-server start

Run server.

## redis-cli shutdown

Server shutdown.

## netstat -tln | grep 63*

Check if Redis is on listen.

## systemctl status redis

Get server status.

## exit

exist.

## redis-cli

Access redis server. \
redis-cli -h host-endpoint -p 6379 -n 5

## exists [キー名]

指定したキーが存在するかチェックします。 \
存在する場合:1 \
存在しない場合:0

## del [キー1] [キー2] ... [キーN]

指定したキーの値を削除します。\
戻り値は、削除したキーの個数。

## type [キー]

指定したキーのデータタイプを取得します。\
存在しない場合は「none」\
文字列の場合は「string」\
lpushやrpushで登録したリストは「list」\
saddで登録したセットは「set」\
zaddで登録したセットは「zset」\
hsetで登録したセットは「hash」

## keys [キーパターン]

登録されてるキーを表示 \
keys \*id* \
&nbsp;&nbsp;&nbsp;&nbsp;キー名にid を含むものを抽出

## randomkey

データベースに存在するキーをランダムに1つ取得します。

## rename [古いキー] [新しいキー]

キーの名称を変更します。\
1：リネーム成功\
0：変更後に指定されたキー名が既に存在するのでリネーム中止

## dbsize

データベースに存在するキーの数を取得します。

## expire [キー] [秒数]

指定したキーの有効期間を指定します。

## ttl [キー]

EXPIREで指定した有効期間の残りを確認します。\
0以上：残り秒数\
-1：TTLの指定がない、または指定したキーが既に存在しない

## select [データベースインデックス]

使用するデータベースを切り替えます。\
初期値は「0」です。

## move [キー] [データベースインデックス]

指定したキーのデータベースインデックスを変更します。\
1：移動成功\
0：移動先に同一のキーがあるので移動中止

## flushdb

選択しているデータベースのデータを全て削除します。

## flushall

全てのデータを削除します。

# 文字列データに対する操作

## set [キー] [値]

文字列データを登録します。\
値に指定可能な文字列の上限は1GB(1073741824bytes)です。

## get [キー]

キーを指定して、データを取得します。

## getset [キー] [値]

キーを指定してデータの更新を行います。\
戻り値は、\
更新前のデータがある場合は更新前のデータ\
更新前のデータが存在しない場合はnil

## mget [キー1] [キー2] ... [キーN]

複数のキーを指定してデータを取得します。

## setnx [キー] [値]

指定したキーが存在する場合には処理を行いません。\
戻り値は、\
1：更新実行\
0：キーが存在するため処理中断

## setex [キー] [有効期間(秒)] [値]

有効期間を設定しつつデータの登録を行います。\
SETとEXPIREを同時に行うという解釈でOKです。

## mset [キー1] [値1] [キー2] [値2] ... [キーN] [値N]

キーと値を複数指定して、一括で登録します。

## msetnx [キー1] [値1] [キー2] [値2] ... [キーN] [値N]

キーの重複チェックを行いながらMSETを行います。\
戻り値は\
1：登録成功\
0：重複があるため登録中断

## incr [キー]

指定したキーの値に1加算し、加算後の値を返します。\
指定したキーが存在しない場合は1を\
指定したキーに既に数値が登録されている場合は続きを\
指定したキーに数値以外が登録されている場合はエラーを

## incrby [キー] [増分]

増分を指定して、キーの値を増加させた値の取得を行います。

## decr [キー]

指定したキーの値に1減算し、減算後の値を返します。\
指定したキーが存在しない場合は-1を\
指定したキーに既に数値が登録されている場合は続きを\
指定したキーに数値以外が登録されている場合はエラー

## decrby [キー] [減少値]

減少分を指定して、キーの値を減少させた値の取得を行います。

## append [キー] [値]

文字列データの追加を行います。\
指定したキーが存在しない場合は通常の登録となります。

## substr [キー] [開始位置] [終了位置]

指定したキーに登録されているデータの一部を取得します。\
開始位置、終了位置の指定にはマイナスも指定可能です。

# リストに対する操作

## rpush [キー] [値]

指定したキーのリストの末尾にデータを追加します。

## lpush [キー] [値]

指定したキーのリストの先頭にデータを追加します。\
戻り値は、値をリストに追加した後のリストの要素数です。

## llen [キー]

リストに登録されている要素数を取得します。

## lrange [キー] [取得開始インデックス] [取得終了インデックス]

範囲を指定して、リストの値を取得します。\
0から-1を指定すると、全件取得できます。\
範囲に-2から-1を指定すると、末尾2つのデータが取得できます。

## ltrim [キー] [開始インデックス] [終了インデックス]

指定したキーに登録されているリストに対して、指定範囲外の値を削除します。

## lindex [キー] [取得するインデックス]

指定したキーに存在するリストの値を、インデックスを指定して取得します。

## lset [キー] [インデックス] [値]

登録されているリストの値を、インデックスを指定して更新します。

## lrem [キー] [削除個数] [削除する値]

リストの要素を、個数と値を指定して削除します。\
削除個数に「0」を指定すると、該当する要素全てが削除されます。

## lpop [キー]

リストの要素の先頭を取得します。\
取得した要素は削除されます。

## rpop [キー]

リストの要素の末尾を取得します。\
取得した要素は削除されます。

## blpop [キー1] [キー2] .. [キーN] [タイムアウト]

リストを持つキーを複数指定して、最初に見つかった値を取得します。\
取得した要素は削除されます。

## rpoplpush [移動元キー] [移動先キー]

キー1の末尾のデータを、キー2の先頭に移動します。\
戻り値は、移動した値となります。\
類似：move

## sort [キー] [asc|desc]

指定したキーのリストをソートします。

# セットに対する操作

## sadd [キー] [値]

指定したキーにセットを作成し、データを登録します。\
1：登録に成功\
0：重複する値があるため、処理中断

## srem  [キー] [値]

データベースに存在するキーを削除する。\
1：削除成功\
0：指定された値が存在しなかったので、削除が行われていない

## spop [キー]

指定したキーのセットの値を1つ取得します。\
取得した値は削除されます。

## smove [移動元のキー] [移動先のキー] [移動する値]

1：移動成功\
0：指定された値が存在しないので、移動が実行されなかった

## scard [キー]

要素数を確認する

## sismember [キー] [値]

指定した値が、キーのセットのメンバーに含まれているか確認します。\
0：セットのメンバーに含まれている\
1：セットのメンバーに含まれていない

## sinter [キー1] [キー2] ... [キーN]

セットを持つキーを複数指定し、重複している値を取得します。\
キーの間に重複している値を取得

## sinterstore [保存するキー名] [キー1] [キー2] ... [キーN]

SINTERの結果を、指定したキー名で保存します。\
り値は、登録した要素の個数です。

## sunion [キー1] [キー2] ... [キーN]

指定したキーに含まれる値を全て取得します。\
ただし、重複する値がある場合はまとめられます。

## sdiff [比較元のキー] [キー1] [キー2] ... [キーN]

最初に指定したキーのセットの要素で、残りで指定したキーのセットに含まれない値を取得します。\
比較元のキーに存在、その他キーに存在しない。

## sdiffstore [保存するキー] [比較元キー] [キー1] [キー2] ... [キーN]

SDIFFの結果をキーに保存します。

## smembers [キー]

指定したキーのセットの要素を取得します。

## srandmember [キー]

指定したキーのセットの要素からランダムに1つ値を取得します。

# ゼットセットに対する操作

## zadd [キー] [スコア(数値)] [値]

データベースにスコアをつけて値を登録します。\
1：スコアと値を追加\
0：既に同じ値が存在するので、スコアを更新

## zrem [キー] [値]

zsetの値を削除します。\
1：削除成功\
0：指定した値が存在しない

## zincrby [キー] [増加量(数値)] [値]

zsetに存在するキーのスコアを指定量だけ増加させます。\
戻り値は、増加後のスコアです。

## zrank [キー] [値]

zsetに登録されている値の順位を取得します。\
※スコアではない。

## zrevrank [キー] [値]

zsetに登録されている値の順位を逆順で取得します。

## zrange [キー] [取得開始位置] [取得終了位置] (withscores)

範囲を指定して、zsetの値をスコア順に取り出します。

## zrevrange [キー] [取得開始位置] [取得終了位置] (withscores)

範囲を指定して、zsetの値をスコアの逆順に取り出します。

## zrangebyscore [キー] [取得開始スコア] [取得終了スコア] (withscores)

zsetに登録されているスコアの範囲を指定して、値を取得します。

## zcount [キー] [取得開始スコア] [取得終了スコア]

スコアの範囲を指定して、該当する値の件数を取得します。

## zremrangebyscore [キー] [開始スコア] [終了スコア]

zsetに登録されている値をスコアの範囲を指定して削除します。

## zcard [キー]

指定したzsetの要素数を取得します。

## zscore [キー] [値]

指定したキーと値のスコアを取得します。

# ハッシュに対する操作

## hset [キー] [フィールド名] [値]

ハッシュにデータを登録します。

## hget [キー] [フィールド名]

ハッシュに登録したデータを取得します。

## hsetnx [キー] [フィールド名] [値]

ハッシュに指定したフィールドが存在しない場合、データの登録を行います。\
1：登録実行\
0：既に値が存在するので登録キャンセル

## hmset [キー] [フィールド1] [値1] [フィールド2] [値2] ... [フィールドN] [値N]

ハッシュのフィールドを複数一括で登録します。

## hmget [キー] [フィールド1] [フィールド2] ... [フィールドN]

ハッシュの複数フィールドの値を一括で取得します。

## hincrby [キー] [フィールド] [増減数]

ハッシュのフィールド値を指定した分だけ増減させます。

## hexists [キー] [フィールド名]

ハッシュに指定したフィールドが存在するか確認します。\
1：フィールドが存在する\
0：フィールドが存在しない

## hdel [キー] [フィールド名]

ハッシュの指定したフィールドを削除します。

## hlen [キー]

ハッシュのフィールド数を取得します。

## hkeys [キー]

ハッシュのフィールド名を取得します。

## hvals [キー]

ハッシュに登録されている値を全て取得します。

## hgetall [キー]

ハッシュに登録されているフィールド名、値を全て取得します。